{
	"info": {
		"_postman_id": "5eec73ff-88f2-4700-ad91-42aaf69b1f8c",
		"name": "#FastAPI SK e2e Test",
		"description": "A complete, sequential testing collection for the FastAPI Multi-Tenant SaaS Starter Kit.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "112231",
		"_collection_link": "https://speeding-eclipse-115506.postman.co/workspace/Zuora~77c8235d-4777-427e-bffe-df449ae8921e/collection/112231-5eec73ff-88f2-4700-ad91-42aaf69b1f8c?action=share&source=collection_link&creator=112231"
	},
	"item": [
		{
			"name": "00 - Health & Public",
			"item": [
				{
					"name": "[P01] Health Check",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/health",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"health"
							]
						}
					},
					"response": []
				},
				{
					"name": "[P02] Public Endpoint",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/public",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"public"
							]
						}
					},
					"response": []
				}
			],
			"description": "Basic health checks to ensure the API is running."
		},
		{
			"name": "01 - Superadmin Lifecycle",
			"item": [
				{
					"name": "[S01] Onboard Tenant A (Innovate Inc.)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"tenant_a_id\", response.id);",
									"pm.collectionVariables.set(\"tenant_a_admin_user_id\", response.admin_user_id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Innovate Inc Strip.\",\n  \"slug\": \"innovate-inc-stripe\",\n  \"admin_email\": \"admin@innovatestripe.com\",\n  \"admin_password\": \"a-very-secure-password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/tenants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"tenants"
							]
						}
					},
					"response": []
				},
				{
					"name": "[S02] Onboard Tenant B (Cyberdyne)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"tenant_b_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Cyberdyne Systems\",\n  \"slug\": \"cybesrdyne\",\n  \"admin_email\": \"admin@cyberdyne.com\",\n  \"admin_password\": \"a-very-secure-password\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/tenants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"tenants"
							]
						}
					},
					"response": []
				},
				{
					"name": "[S03] List All Tenants",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/superadmin/tenants",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"superadmin",
								"tenants"
							]
						}
					},
					"response": []
				},
				{
					"name": "[S04] Update Tenant A",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Innovate Corp (Updated)\",\n  \"tenant_data\": {\n    \"plan\": \"premium\",\n    \"active\": true\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/superadmin/tenants/{{tenant_a_id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"superadmin",
								"tenants",
								"{{tenant_a_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "[S05] Delete Tenant B",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/superadmin/tenants/{{tenant_b_id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"superadmin",
								"tenants",
								"{{tenant_b_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "Creates a \"Pro\" Plan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Pro Plan\",\n  \"is_active\": true,\n  \"external_product_id\": \"dodo_prod_123\",\n  \"external_price_id\": \"dodo_price_456\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add max_users entitlement to \"Pro\" Plan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"feature_slug\": \"max_users\",\n  \"entitlement_type\": \"LIMIT\",\n  \"value\": 3\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans/d497d845-908e-458f-aaae-e145ef285447/entitlements",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans",
								"d497d845-908e-458f-aaae-e145ef285447",
								"entitlements"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add enable_analytics entitlement to \"Pro\" Plan Copy",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"feature_slug\": \"enable_analytics\",\n  \"entitlement_type\": \"FLAG\",\n  \"value\": 1\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans/d497d845-908e-458f-aaae-e145ef285447/entitlements",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans",
								"d497d845-908e-458f-aaae-e145ef285447",
								"entitlements"
							]
						}
					},
					"response": []
				},
				{
					"name": "Assign Pro Plan to Tenant A",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plan_id\": \"d497d845-908e-458f-aaae-e145ef285447\",\n  \"subscription_status\": \"active\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/superadmin/tenants/{{tenant_a_id}}/assign-plan",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"superadmin",
								"tenants",
								"{{tenant_a_id}}",
								"assign-plan"
							]
						}
					},
					"response": []
				}
			],
			"description": "Actions performed by the Superadmin (SaaS Owner). Requires `superadmin_jwt`."
		},
		{
			"name": "02(b)Dodo payments",
			"item": [
				{
					"name": "Creates a Basic Plan dodo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Basic\",\n  \"external_product_id\": \"pdt_qYF7z8ioPe4UYWtMBN2Kh\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Creates a Intermediate Plan dodo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Intermediate\",\n  \"external_product_id\": \"pdt_fVq4GXN0TnLsPSTN8zP0C\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add max_users entitlement to \"Intermediate\" Plan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"feature_slug\": \"max_users\",\n  \"entitlement_type\": \"LIMIT\",\n  \"value\": 10\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans/64fabba3-893c-4812-8577-35c04abdc333/entitlements",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans",
								"64fabba3-893c-4812-8577-35c04abdc333",
								"entitlements"
							]
						}
					},
					"response": []
				},
				{
					"name": "List all plans",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/public/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"public",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate Checkout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plan_id\": \"64fabba3-893c-4812-8577-35c04abdc333\",\n  \"success_url\": \"https://9337a10c8264.ngrok-free.app/api/v1/dodo-success\",\n  \"cancel_url\": \"https://9337a10c8264.ngrok-free.app/api/v1/dodo-failed\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/subscriptions/checkout-session",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"subscriptions",
								"checkout-session"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "02(c)Stripe payments",
			"item": [
				{
					"name": "Creates a Basic Plan dodo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Basic\",\n  \"external_product_id\": \"pdt_qYF7z8ioPe4UYWtMBN2Kh\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Creates a Intermediate Plan dodo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Intermediate (Stripe)\",\n   \"is_active\": true,\n  \"external_price_id\": \"price_1SENA2SABeiomO7Cp7ZJS4pK\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Add max_users entitlement to \"Intermediate\" Plan",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{superadmin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"feature_slug\": \"max_users\",\n  \"entitlement_type\": \"LIMIT\",\n  \"value\": 10\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/plans/64fabba3-893c-4812-8577-35c04abdc333/entitlements",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"plans",
								"64fabba3-893c-4812-8577-35c04abdc333",
								"entitlements"
							]
						}
					},
					"response": []
				},
				{
					"name": "List all plans",
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/v1/public/plans",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"public",
								"plans"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate Checkout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plan_id\": \"64fabba3-893c-4812-8577-35c04abdc333\",\n  \"success_url\": \"https://9337a10c8264.ngrok-free.app/api/v1/dodo-success\",\n  \"cancel_url\": \"https://9337a10c8264.ngrok-free.app/api/v1/dodo-failed\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/subscriptions/checkout-session",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"subscriptions",
								"checkout-session"
							]
						}
					},
					"response": []
				},
				{
					"name": "Initiate Checkout Stripe",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"plan_id\": \"c057f57a-98d0-47b9-9bb5-bab49e55b8f5\",\n  \"success_url\": \"https://be662d3e33da.ngrok-free.app/api/v1/dodo-success\",\n  \"cancel_url\": \"https://be662d3e33da.ngrok-free.app/api/v1/dodo-failed\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/subscriptions/checkout-session",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"subscriptions",
								"checkout-session"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "02 - Tenant Admin Lifecycle (Tenant A)",
			"item": [
				{
					"name": "Upload Logo",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/Users/ambikaiyer/Downloads/Logo  RAGyfied.png"
								}
							]
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/v1/uploads?folder=logos",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"v1",
								"uploads"
							],
							"query": [
								{
									"key": "folder",
									"value": "logos"
								}
							]
						},
						"description": "Generated from cURL: curl -X POST \"http://127.0.0.1:8000/api/v1/uploads?folder=logos\" \\\n-H \"Authorization: Bearer TENANT_A_ADMIN_JWT\" \\\n-F \"file=@logo.png\""
					},
					"response": []
				},
				{
					"name": "Update Tenant with Logo",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"logo_path\" : \"c88e00ec-2b61-4d87-be7a-7bd127d1ea37/logos/f1776195-a69e-4c90-a546-4ca6092001d2.png\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/v1/tenants/me",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"v1",
								"tenants",
								"me"
							]
						},
						"description": "Generated from cURL: curl -X POST \"http://127.0.0.1:8000/api/v1/uploads?folder=logos\" \\\n-H \"Authorization: Bearer TENANT_A_ADMIN_JWT\" \\\n-F \"file=@logo.png\""
					},
					"response": []
				},
				{
					"name": "Get my tenant info",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/v1/tenants/me",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"v1",
								"tenants",
								"me"
							]
						},
						"description": "Generated from cURL: curl -X POST \"http://127.0.0.1:8000/api/v1/uploads?folder=logos\" \\\n-H \"Authorization: Bearer TENANT_A_ADMIN_JWT\" \\\n-F \"file=@logo.png\""
					},
					"response": []
				},
				{
					"name": "[A01] Create Custom Role (Editor)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_role_id\", response.id);",
									"",
									"console.log(\"editor role set and get now : \");",
									"console.log(pm.collectionVariables.get(\"editor_role_id\"));"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Editor\",\n  \"permissions\": [\n    \"ITEMS_READ\",\n    \"ITEMS_CREATE\",\n    \"ITEMS_UPDATE\"\n  ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/roles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"roles"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A02] List Roles in Tenant",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/roles",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"roles"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A03] Invite User with Editor Role",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"editor4@innovate.com\",\n  \"role_id\": \"{{editor_role_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/invite",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"invite"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A04] List Users in Tenant",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A05] Delete Invited User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/502b142c-3901-43c1-9429-5b22e5601586",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"502b142c-3901-43c1-9429-5b22e5601586"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A06] List Audit Logs",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/audit-logs?skip=0&limit=50",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"audit-logs"
							],
							"query": [
								{
									"key": "skip",
									"value": "0"
								},
								{
									"key": "limit",
									"value": "50"
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "[A07] Create API Key",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/api-keys",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"api-keys"
							]
						}
					},
					"response": []
				},
				{
					"name": "[A08] List API Keys",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/api-keys",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"api-keys"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a New Customer",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Acme Corporation\",\n  \"email\": \"contact@acme.com\",\n  \"customer_data\": {\n    \"address\": \"123 Main St, Anytown, USA\",\n    \"account_manager_id\": \"some-user-uuid\",\n    \"industry\": \"Manufacturing\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/customers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a New Customer 2",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Cyberdyne Systems\",\n  \"email\": \"sales@cyberdyne.io\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/customers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Update Customer",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Acme Systems\",\n  \"customer_data\": {\n    \"address\": \"123 Main St, Anytown, USA\",\n    \"account_manager_id\": \"some-user-uuid\",\n    \"industry\": \"Manufacturing\",\n    \"status\": \"active\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/customers/2c92e3dd-6019-4ebb-ba61-2c936fb01c11",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"customers",
								"2c92e3dd-6019-4ebb-ba61-2c936fb01c11"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Customers",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Cyberdyne Systems\",\n  \"email\": \"sales@cyberdyne.io\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/customers",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"customers"
							]
						}
					},
					"response": []
				},
				{
					"name": "Get Customer by Id",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Cyberdyne Systems\",\n  \"email\": \"sales@cyberdyne.io\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/customers/959c3bd5-4c99-4f63-a79d-746324d00461",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"customers",
								"959c3bd5-4c99-4f63-a79d-746324d00461"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Deal\",\n  \"slug\": \"deal\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/custom-objects",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"custom-objects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object field 1",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Deal\",\n  \"slug\": \"deal\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/custom-objects",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"custom-objects"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object field 2",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Deal Value\",\n  \"slug\": \"deal_value\",\n  \"field_type\": \"number\",\n  \"is_required\": false\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/custom-objects/deal/fields",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"custom-objects",
								"deal",
								"fields"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object field 3",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Stage\",\n  \"slug\": \"stage\",\n  \"field_type\": \"select\",\n  \"is_required\": true,\n  \"options\": {\n    \"options\": [\"Prospecting\", \"Negotiation\", \"Closed Won\", \"Closed Lost\"]\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/custom-objects/deal/fields",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"custom-objects",
								"deal",
								"fields"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Custom object fields",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/custom-objects/deal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"custom-objects",
								"deal"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object Record",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"deal_name\": \"Project Titan\",\n    \"deal_value\": 50000,\n    \"stage\": \"Negotiation\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/records/deal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"records",
								"deal"
							]
						}
					},
					"response": []
				},
				{
					"name": "Create a Custom object Record -Validation failure",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"deal_value\": 10000,\n    \"stage\": \"On Hold\" \n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/records/deal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"records",
								"deal"
							]
						}
					},
					"response": []
				},
				{
					"name": "update Custom object Deal Record",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"deal_name\": \"Project Titan\",\n    \"deal_value\": 75000,\n    \"stage\": \"Closed Won\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/records/deal/3a0e6871-1841-4813-8792-284a12978ede",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"records",
								"deal",
								"3a0e6871-1841-4813-8792-284a12978ede"
							]
						}
					},
					"response": []
				},
				{
					"name": "delete Custom object Deal Record",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 200 OK\", function () {",
									"    pm.response.to.have.status(200);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"editor_user_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"data\": {\n    \"deal_name\": \"Project Titan\",\n    \"deal_value\": 75000,\n    \"stage\": \"Closed Won\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/records/deal/2c4f6c41-f9b4-40a9-91a7-3e4ebc661508",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"records",
								"deal",
								"2c4f6c41-f9b4-40a9-91a7-3e4ebc661508"
							]
						}
					},
					"response": []
				},
				{
					"name": "List Custom object Deal Records",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/records/deal",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"records",
								"deal"
							]
						}
					},
					"response": []
				}
			],
			"description": "Actions performed by a Tenant Admin. Requires `tenant_a_admin_jwt`."
		},
		{
			"name": "03 - Tenant User Lifecycle (Editor in Tenant A)",
			"item": [
				{
					"name": "Upload Item image",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{tenant_a_admin_jwt}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "file",
									"type": "file",
									"src": "/Users/ambikaiyer/Downloads/output.png"
								}
							]
						},
						"url": {
							"raw": "http://127.0.0.1:8000/api/v1/uploads?folder=items",
							"protocol": "http",
							"host": [
								"127",
								"0",
								"0",
								"1"
							],
							"port": "8000",
							"path": [
								"api",
								"v1",
								"uploads"
							],
							"query": [
								{
									"key": "folder",
									"value": "items"
								}
							]
						},
						"description": "Generated from cURL: curl -X POST \"http://127.0.0.1:8000/api/v1/uploads?folder=logos\" \\\n-H \"Authorization: Bearer TENANT_A_ADMIN_JWT\" \\\n-F \"file=@logo.png\""
					},
					"response": []
				},
				{
					"name": "[U01] Create Item (Allowed)",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"Status code is 201 Created\", function () {",
									"    pm.response.to.have.status(201);",
									"});",
									"",
									"const response = pm.response.json();",
									"pm.collectionVariables.set(\"item_id\", response.id);"
								],
								"type": "text/javascript",
								"packages": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"name\": \"Flux Capacitor1\",\n  \"price\": 1223,\n  \"quantity\": 1,\n  \"image_path\" :\"c88e00ec-2b61-4d87-be7a-7bd127d1ea37/items/4078db47-cac6-4143-a1fd-5664b1382717.png\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/items",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"items"
							]
						}
					},
					"response": []
				},
				{
					"name": "[U02] List Items (Allowed)",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/items",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"items"
							]
						}
					},
					"response": []
				},
				{
					"name": "[U02] List Items Using API Key",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text",
								"disabled": true
							},
							{
								"key": "X-API-Key",
								"value": "{{API_key}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/items",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"items"
							]
						}
					},
					"response": []
				},
				{
					"name": "[U02] GET item",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/items/47aae9e3-712c-4f96-b2e8-fea5de76b895",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"items",
								"47aae9e3-712c-4f96-b2e8-fea5de76b895"
							]
						}
					},
					"response": []
				},
				{
					"name": "[U03] Delete Item (FORBIDDEN)",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/v1/items/{{item_id}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"items",
								"{{item_id}}"
							]
						}
					},
					"response": []
				},
				{
					"name": "[U04] Invite User (FORBIDDEN)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{editor_user_jwt}}",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"email\": \"another.editor@innovate.com\",\n  \"role_id\": \"{{editor_role_id}}\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/v1/users/invite",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"v1",
								"users",
								"invite"
							]
						}
					},
					"response": []
				}
			],
			"description": "Actions performed by a non-admin tenant user. Requires `editor_user_jwt`."
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://127.0.0.1:8000"
		},
		{
			"key": "superadmin_jwt",
			"value": ""
		},
		{
			"key": "tenant_a_admin_jwt",
			"value": ""
		},
		{
			"key": "tenant_a_id",
			"value": ""
		},
		{
			"key": "tenant_a_admin_user_id",
			"value": ""
		},
		{
			"key": "tenant_b_id",
			"value": ""
		},
		{
			"key": "editor_role_id",
			"value": ""
		},
		{
			"key": "editor_user_id",
			"value": ""
		},
		{
			"key": "editor_user_jwt",
			"value": ""
		},
		{
			"key": "item_id",
			"value": ""
		},
		{
			"key": "API_key",
			"value": "",
			"type": "string"
		}
	]
}
